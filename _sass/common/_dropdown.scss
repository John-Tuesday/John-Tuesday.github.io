@use "util";
@use "theme/m3-color" as c;
@use "sass:color";

/**
 * # Menu
 *
 **/

$-ham-bg-color: purple;
$-label-bg-color: aqua;
$-menu-bg-color: blue;

.hamburger-menu {
    position: sticky;
    top: 0;
    font-size: 24px;
    max-width: 100%;
    z-index: util.$topbar-z;
    background-color: c.$surface-container-low;//$-ham-bg-color;
    // background-color: $-ham-bg-color;
    border: {
        color: c.$outline;
        style: solid;
        width: util.$outline-width;
    }
}

label.menu-label {
    position: relative;
    display: inline-block;
    z-index: util.$topbar-z;
    cursor: pointer;
    vertical-align: top;
    max-width: 100%;
    min-width: util.$min-interact-width;
    min-height: util.$min-interact-height;
    // background-color: c.$surface-container-high;//$-menu-bg-color;
    background-color: transparent;
    
    &:hover {
        // background-color: c.apply-scrim(c.$surface-container-high);
        background-color: c.$scrim-10;
    }
}

@mixin menu-label-base($alpha) {
    $s: 0.5em;
    $h: $s + $s;

    position: absolute;
    filter: opacity($alpha);
    top: calc(50% - $s);
    line-height: $h;
    text-align: center;
    width: 100%;
    max-height: 100%;
    background-color: transparent;// $-label-bg-color;
}

.menu-label-uncheck {
    @include menu-label-base(100%);
}
.menu-label-check {
    @include menu-label-base(0%);
}

.menu-toggle {
    display: none;

    &:checked ~ .menu-content {
        display: inline-block;
    }
    
    /* &:checked ~ .menu-label * {
        transform: rotate(90deg);
    } */
    
    &:checked ~ .menu-label .menu-label-check {
        filter: opacity(100%);
    }

    &:checked ~ .menu-label .menu-label-uncheck {
        filter: opacity(0%);
    }
}

.menu-content {
    position: relative;
    display: none;
    z-index: util.$topbar-menu-content-z;
    background-color: c.$surface-container;
}

/**
 * # Dropdown
 *
 **/

.dropdown {
    display: inline-block;
    position: relative;
}

.dropdown-content {
    display: none;
    position: absolute;
    width: 100%;
    padding: 4px;

    background-color: c.$surface-container;
}

.dropdown-content-bordered {
    @extend .dropdown-content;
    border: {
        radius: 4px;
        width: 2px;
        style: solid;
        color: c.$outline;
    }
}

.dropdown:hover .dropdown-content {
    display: block;
}
